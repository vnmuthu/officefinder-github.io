{"remainingRequest":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/Weather.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/Weather.vue","mtime":1597338938075},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBDSVRJRVMsIFdFQVRIRVIgfSBmcm9tICcuLi9jb25zdGFudHMuanMnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1dlYXRoZXInLAoKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VsZWN0aW9uczogW10KICAgICAgICB9CiAgICB9LAoKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgd2VhdGhlckNvbmRpdGlvbnMoKSB7CiAgICAgICAgICAgIHJldHVybiBXRUFUSEVSLmNvbmRpdGlvbnM7CiAgICAgICAgfSwKCiAgICAgICAgdGl0bGUoKSB7CiAgICAgICAgICAgIHJldHVybiBXRUFUSEVSLnRpdGxlOwogICAgICAgIH0sCgogICAgICAgIGRlc2NyaXB0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gV0VBVEhFUi5kZXNjcmlwdGlvbjsKICAgICAgICB9LAoKICAgICAgICBuZXh0QnRuKCkgewogICAgICAgICAgICByZXR1cm4gV0VBVEhFUi5uZXh0QnV0dG9uOwogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcE11dGF0aW9ucyAoWyJzZXRXZWF0aGVyRGF0YSIsICJzZXRVc2VyV2VhdGhlclNlbGVjdGlvbiJdKSwKCiAgICAgICAgYWRkV2VhdGhlcklucHV0KGUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zZWxlY3Rpb25zKSAmJiB0aGlzLnNlbGVjdGlvbnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBhY2N1V2VhdGhlckNvZGVMaXN0ID0gQ0lUSUVTLm1hcChvID0+IG8uYWNjdVdlYXRoZXJDb2RlKTsKCiAgICAgICAgICAgICAgICB0aGlzLnNldFVzZXJXZWF0aGVyU2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9ucyk7CgogICAgICAgICAgICAgICAgYWNjdVdlYXRoZXJDb2RlTGlzdC5mb3JFYWNoKChjb2RlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRXZWF0aGVyUmVwb3J0KGNvZGUpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy90cmF2ZWwtY29zdCcpOwogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGdldFdlYXRoZXJSZXBvcnQoY29kZSkgewogICAgICAgICAgICAvLyBBY2N1V2VhdGhlciBBUEkgaXMgcHJvdmlkaW5nIG9ubHkgNTAgY2FsbHMgZm9yIHRyYWlsIHZlcnNpb24KICAgICAgICAgICAgLy8gU28gQ2l0eSB3ZWF0aGVyIGluZm9ybWF0aW9uIGlzIGZlZWRlZCBpbiBDT05TVEFOU1RTIGFuZCB1c2VkIGl0CgogICAgICAgICAgICAvLyBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vZGF0YXNlcnZpY2UuYWNjdXdlYXRoZXIuY29tL2ZvcmVjYXN0cy92MS9kYWlseS8xZGF5LyR7Y29kZX0/YXBpa2V5PXI5aHV2cThIOEdmZnk3eTQ0cHN3NkVNVVZsM1NpblY5JmRldGFpbHM9dHJ1ZSZtZXRyaWM9dHJ1ZWApCiAgICAgICAgICAgIC8vIGNvbnN0IHdlYXRoZXJEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAvLyBjb25zdCBkYWlseUZvcmVjYXN0ID0gd2VhdGhlckRhdGEuRGFpbHlGb3JlY2FzdHNbMF07CiAgICAgICAgICAgIC8vIGNvbnN0IHRlbXBlcmF0dXJlID0gZGFpbHlGb3JlY2FzdC5UZW1wZXJhdHVyZTsKICAgICAgICAgICAgY29uc3QgY2l0eU9iaiA9IENJVElFUy5maW5kKG8gPT4gby5hY2N1V2VhdGhlckNvZGUgPT09IGNvZGUpOwogICAgICAgICAgICBjb25zdCB7IGFpcnBvcnRDb2RlLCB0ZW1wZXJhdHVyZSB9ID0gY2l0eU9iajsKICAgICAgICAgICAgY29uc3QgY2l0eVdlYXRoZXIgPSB7CiAgICAgICAgICAgICAgICBjaXR5OiBhaXJwb3J0Q29kZSwKICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlOiB0ZW1wZXJhdHVyZQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdGhpcy5zZXRXZWF0aGVyRGF0YShjaXR5V2VhdGhlcik7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Weather.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Weather.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"weather-preference\">\n        <form @submit=\"addWeatherInput\">\n            <h1>{{ title }}</h1>\n            <div>{{ description }}</div>\n            <ul>\n                <li v-for=\"condition in weatherConditions\" :key=\"condition.id\">\n                    <input type=\"checkbox\" :id=\"condition.value\" :value=\"condition.value\" v-model=\"selections\" />\n                    <label :for=\"condition.value\">\n                        <img :src=\"condition.icon\" alt=\"condition.value\" /><br/>\n                        <span>{{ condition.temperature.min }}</span>c -\n                        <span>{{ condition.temperature.max }}</span>c\n                    </label>\n                </li>\n            </ul>\n            <button type=\"submit\">{{ nextBtn }}</button>\n        </form>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex';\nimport { CITIES, WEATHER } from '../constants.js';\n\nexport default {\n    name: 'Weather',\n\n    data() {\n        return {\n            selections: []\n        }\n    },\n\n    computed: {\n        weatherConditions() {\n            return WEATHER.conditions;\n        },\n\n        title() {\n            return WEATHER.title;\n        },\n\n        description() {\n            return WEATHER.description;\n        },\n\n        nextBtn() {\n            return WEATHER.nextButton;\n        }\n    },\n\n    methods: {\n        ...mapMutations ([\"setWeatherData\", \"setUserWeatherSelection\"]),\n\n        addWeatherInput(e) {\n            e.preventDefault();\n\n            if (Array.isArray(this.selections) && this.selections.length) {\n                const accuWeatherCodeList = CITIES.map(o => o.accuWeatherCode);\n\n                this.setUserWeatherSelection(this.selections);\n\n                accuWeatherCodeList.forEach((code) => {\n                    this.getWeatherReport(code);\n                })\n            }\n\n            this.$router.push('/travel-cost');\n        },\n\n        async getWeatherReport(code) {\n            // AccuWeather API is providing only 50 calls for trail version\n            // So City weather information is feeded in CONSTANSTS and used it\n\n            // const response = await fetch(`http://dataservice.accuweather.com/forecasts/v1/daily/1day/${code}?apikey=r9huvq8H8Gffy7y44psw6EMUVl3SinV9&details=true&metric=true`)\n            // const weatherData = await response.json();\n            // const dailyForecast = weatherData.DailyForecasts[0];\n            // const temperature = dailyForecast.Temperature;\n            const cityObj = CITIES.find(o => o.accuWeatherCode === code);\n            const { airportCode, temperature } = cityObj;\n            const cityWeather = {\n                city: airportCode,\n                temperature: temperature\n            };\n\n            this.setWeatherData(cityWeather);\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n    .weather-preference {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n    }\n\n    ul {\n        list-style-type: none;\n        margin: 30px 0;\n\n        li {\n            display: inline-block;\n            \n            input[type=\"checkbox\"][id=\"cold\"],\n            input[type=\"checkbox\"][id=\"cloudy\"],\n            input[type=\"checkbox\"][id=\"mostly-sunny\"],\n            input[type=\"checkbox\"][id=\"sunny\"] {\n                display: none;\n            }\n\n            label {\n                border: 1px solid #fff;\n                padding: 10px;\n                display: block;\n                position: relative;\n                margin: 10px;\n                cursor: pointer;\n\n                &:before {\n                    background-color: white;\n                    color: white;\n                    content: \" \";\n                    display: block;\n                    border-radius: 50%;\n                    border: 1px solid #34495E;\n                    position: absolute;\n                    top: -5px;\n                    left: -5px;\n                    width: 25px;\n                    height: 25px;\n                    text-align: center;\n                    line-height: 28px;\n                    transition-duration: 0.4s;\n                    transform: scale(0);\n                }\n\n                span::after {\n                    content: \"\\00b0\"\n                }\n\n                img {\n                    width: 100px;\n                    transition-duration: 0.2s;\n                    transform-origin: 50% 50%;\n                }\n            }\n\n            :checked + label {\n                border-color: #34495E;\n                border-radius: 4px;\n            }\n\n            :checked + label:before {\n                content: \"\\2713\";\n                background-color: #41B883;\n                transform: scale(1);\n            }\n\n            :checked + label img {\n                transform: scale(0.9);\n                z-index: -1;\n            }\n        }\n    }\n\n    button {\n        font-size: 20px;\n        font-weight: 700;\n        color: #2c3e50;\n        border: 1px solid #34495E;\n        border-radius: 4px;\n        background-color: #fff;\n        padding: 10px 30px;\n        margin: 30px 0;\n        cursor: pointer;\n    }\n</style>"]}]}