{"remainingRequest":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/Recommendation.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/Recommendation.vue","mtime":1600313877122},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5yZXN1bHQtY29udGFpbmVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgZGlzcGxheTogZmxleDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CgogICAgLnJlY29tbWVkZWQtbG9jYXRpb24gewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDsKCiAgICAgICAgLnJlc3VsdC1jb250ZW50IHsKICAgICAgICAgICAgcGFkZGluZzogMjBweCA1MHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwoKICAgICAgICAgICAgLnJlY29tbWVuZC10ZXh0IHsKICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNXB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICBoMSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDUwcHg7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5jdXJyZW50LXdlYXRoZXIgewogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwoKICAgICAgICAgICAgICAgIGltZyB7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNwYW4gewogICAgICAgICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDVweDsKICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDI2cHg7CiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICAgICAgdG9wOiA3cHg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3Bhbi5taW46OmFmdGVyLAogICAgICAgICAgICAgICAgc3Bhbi5tYXg6OmFmdGVyIHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAiXDAwYjAiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5wcmljZSB7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CgogICAgICAgICAgICAgICAgc3BhbiB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNnB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5yZXNldCB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4OwoKICAgICAgICAgICAgICAgIGEgewogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMzNDQ5NUU7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMzMDAwMDA7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMzAwMDAwLCAjMDAwMDAwLCAjMzAwMDAwLCAjMDAwMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAubm8tb2ZmaWNlIHsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICAgICAgY29sb3I6ICMwMDAwMDA7CiAgICB9CgogICAgLmFtc3RlcmRhbSB7CiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIuLi9hc3NldHMvYW1zdGVyZGFtLmpwZyIpOwogICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7CiAgICAgICAgCiAgICB9CgogICAgLmJ1ZGFwZXN0IHsKICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi4uL2Fzc2V0cy9idWRhcGVzdC5qcGciKTsKICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgfQogICAgCiAgICAubWFkcmlkIHsKICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi4uL2Fzc2V0cy9tYWRyaWQuanBnIik7CiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIH0KfQo="},{"version":3,"sources":["Recommendation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Recommendation.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"result-container\">\n        <div v-if=\"isRecommendedOfficeAvailable\" v-bind:class=\"[isRecommendedOfficeAvailable ? cityClassName : '', 'recommeded-location']\">\n            <div class=\"result-content\">\n                <span class=\"recommend-text\">We recommend</span>\n                <h1>{{ this.recommendedCity.name }}</h1>\n                <div class=\"current-weather\">\n                    <img alt=\"logo\" src=\"../assets/weather.png\" />\n                    <span class=\"min\">{{ Math.round(this.recommendedCity.weather.Minimum.Value) }}</span>\n                    <span>-</span>\n                    <span class=\"max\">{{ Math.round(this.recommendedCity.weather.Maximum.Value) }}</span>\n                </div>\n                <div v-if=\"isCheapFlightCostEnabled && cheapFlightCost\" class=\"price\">Price from <span>&euro;{{ cheapFlightCost }}</span></div>\n                <div class=\"reset\"><router-link to=\"/\">Start Over</router-link></div>\n            </div>\n        </div>\n        <div v-else class=\"no-office\">\n            <h1>Sorry! No office location is suitable for your preference!</h1>\n            <router-link to=\"/\">Start Over</router-link>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { CITIES, WEATHER } from '../constants.js';\n\nexport default {\n    name: 'Recommendation',\n    \n    data() {\n        return {\n            weatherReport: '',\n            flightCost: '',\n            recommendedCity: {}\n        }\n    },\n\n    computed: {\n        ...mapState(['userWeatherSelection', 'isCheapFlightCostEnabled', 'cityWeather', 'cityFlightCost']),\n\n        isRecommendedOfficeAvailable() {\n            return this.recommendedCity && Object.keys(this.recommendedCity).length > 0;\n        },\n\n        cityClassName() {\n            return this.isRecommendedOfficeAvailable ? this.recommendedCity.name.toLowerCase() : '';\n        },\n\n        cheapFlightCost() {\n            return this.isRecommendedOfficeAvailable ? this.recommendedCity.flightCost : '';\n        }\n    },\n\n    mounted() {\n        this.findRecommendedLocation();\n    },\n\n    methods: {\n        findRecommendedLocation() {\n            let recommededCities = [];\n            const cityWeatherTravelPreference = this.deepFlattenData();\n\n            if (Array.isArray(this.userWeatherSelection) && this.userWeatherSelection.length &&\n                Array.isArray(this.cityWeather) && this.cityWeather.length) {\n                let userMinTemperature;\n                let userMaxTemperature;\n                const userWeatherList = this.getUserWeatherList(this.userWeatherSelection);\n\n                if (Array.isArray(userWeatherList) && userWeatherList.length > 0) {\n                    if (userWeatherList.length > 1) {\n                        const minTempList = userWeatherList.map(({ min }) => min);\n                        const maxTempList = userWeatherList.map(({ max }) => max);\n                        userMinTemperature = Math.min(...minTempList);\n                        userMaxTemperature = Math.max(...maxTempList);\n                    } else {\n                        userMinTemperature = userWeatherList && userWeatherList[0].min;\n                        userMaxTemperature = userWeatherList && userWeatherList[0].max;\n                    }\n                    \n                    cityWeatherTravelPreference.map(i => {\n                        if(i.weather.Minimum.Value >= userMinTemperature && i.weather.Maximum.Value <= userMaxTemperature) {\n                            recommededCities.push(i);\n                        }\n                    });\n                }\n            }\n\n            if (this.isCheapFlightCostEnabled && Array.isArray(this.cityFlightCost) && this.cityFlightCost.length) {\n                if (!recommededCities.length) { \n                    recommededCities = cityWeatherTravelPreference;\n                }\n\n                recommededCities.sort((a, b) => {\n                    return a.flightCost - b.flightCost;\n                });\n            }\n\n            if (Array.isArray(recommededCities) && recommededCities.length) {\n                this.recommendedCity = recommededCities[0];\n            }\n        },\n\n        deepFlattenData() {\n            let cityWeatherTravelList = [];\n\n            CITIES.forEach((i) => {\n                let cityObj = {};\n\n                cityObj.name = i.city;\n                this.cityWeather.forEach((o) => {\n                    if (o.city === i.airportCode) {\n                        cityObj.weather = o.temperature;\n                    }\n                });\n\n                this.cityFlightCost.forEach((f) => {\n                    if (f.city === i.airportCode) {\n                        cityObj.flightCost = f.priceFrom;\n                    }\n                });\n\n                cityWeatherTravelList.push(cityObj);\n            });\n\n            return cityWeatherTravelList;\n        },\n\n        getUserWeatherList(selectionList) {\n            let temperatureList = [];\n            selectionList.forEach((selectedItem) => {\n                WEATHER.conditions.forEach((weatherItem) => {\n                    if (selectedItem === weatherItem.value) {\n                        temperatureList.push(weatherItem.temperature);\n                    }\n                })\n            });\n\n            return temperatureList;\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n    .result-container {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        box-sizing: border-box;\n\n        .recommeded-location {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            box-sizing: border-box;\n            color: #ffffff;\n            background-color: #000000;\n\n            .result-content {\n                padding: 20px 50px;\n                text-align: left;\n\n                .recommend-text {\n                    padding-left: 5px;\n                }\n\n                h1 {\n                    font-size: 50px;\n                    margin: 0;\n                }\n\n                .current-weather {\n                    display: inline-block;\n\n                    img {\n                        width: 50px;\n                        margin-right: 15px;\n                    }\n\n                    span {\n                        float: right;\n                        padding: 0 5px;\n                        font-size: 26px;\n                        font-weight: 700;\n                        position: relative;\n                        top: 7px;\n                    }\n\n                    span.min::after,\n                    span.max::after {\n                        content: \"\\00b0\"\n                    }\n                }\n\n                .price {\n                    font-size: 16px;\n                    padding: 10px 20px;\n\n                    span {\n                        font-size: 26px;\n                        font-weight: 700;\n                        padding: 0 5px;\n                    }\n                }\n\n                .reset {\n                    display: flex;\n                    margin: 10px;\n\n                    a {\n                        font-size: 16px;\n                        font-weight: 700;\n                        color: #fff;\n                        border: 1px solid #34495E;\n                        border-radius: 4px;\n                        text-decoration: none;\n                        padding: 10px 20px;\n                        cursor: pointer;\n                        background: #300000;\n                        background: linear-gradient(45deg, #300000, #000000, #300000, #000000);\n                    }\n                }\n            }\n        }\n\n        .no-office {\n            width: 100%;\n            height: 100%;\n            text-align: center;\n            background-color: #ffffff;\n            color: #000000;\n        }\n\n        .amsterdam {\n            background-image: url(\"../assets/amsterdam.jpg\");\n            background-size: cover;\n            \n        }\n\n        .budapest {\n            background-image: url(\"../assets/budapest.jpg\");\n            background-size: cover;\n        }\n        \n        .madrid {\n            background-image: url(\"../assets/madrid.jpg\");\n            background-size: cover;\n        }\n    }\n</style>"]}]}