{"remainingRequest":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/babel-loader/lib/index.js!/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/TravelCost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/TravelCost.vue","mtime":1597338838529},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYWN2ZWxsaS9Eb2N1bWVudHMvR2l0SHViL29mZmljZWZpbmRlci1naXRodWIuaW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbmFjdmVsbGkvRG9jdW1lbnRzL0dpdEh1Yi9vZmZpY2VmaW5kZXItZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBDSVRJRVMgfSBmcm9tICcuLi9jb25zdGFudHMuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RyYXZlbENvc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVhcFRyYXZlbENvc3Q6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlciddKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWyJzZXRGbGlnaHRDb3N0IiwgInNldENoZWFwRmxpZ2h0Q29zdEZsYWciXSkpLCB7fSwgewogICAgc3VibWl0UHJlZmVyZW5jZTogZnVuY3Rpb24gc3VibWl0UHJlZmVyZW5jZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWNvbW1lbmRhdGlvbicpOwogICAgfSwKICAgIHVwZGF0ZVRyYXZlbFByZWZlcmVuY2U6IGZ1bmN0aW9uIHVwZGF0ZVRyYXZlbFByZWZlcmVuY2UodHJhdmVsQ29zdFN0YXR1cykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRyYXZlbENvc3RTdGF0dXMpIHsKICAgICAgICB2YXIgaG9tZU9mZmljZUNvZGUgPSAnQ0RHJzsgLy8gSG9tZSBMb2NhdGlvbiBBaXJwb3J0IENvZGUKCiAgICAgICAgdmFyIG90aGVyT2ZmaWNlRGF0YSA9IENJVElFUy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmNpdHkgIT09IF90aGlzLnVzZXIuaG9tZUxvY2F0aW9uOwogICAgICAgIH0pOwogICAgICAgIHZhciBvdGhlcm9mZmljZUNvZGVzID0gb3RoZXJPZmZpY2VEYXRhLm1hcChmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8uYWlycG9ydENvZGU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZXRDaGVhcEZsaWdodENvc3RGbGFnKHRyYXZlbENvc3RTdGF0dXMpOwogICAgICAgIG90aGVyb2ZmaWNlQ29kZXMuZm9yRWFjaChmdW5jdGlvbiAocmVjb21tZW5kZWRPZmZpY2VDb2RlKSB7CiAgICAgICAgICBfdGhpcy5jYWxjdWxhdGVDaGVhcEZsaWdodENvc3QoaG9tZU9mZmljZUNvZGUsIHJlY29tbWVuZGVkT2ZmaWNlQ29kZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRDaGVhcEZsaWdodENvc3RGbGFnKHRyYXZlbENvc3RTdGF0dXMpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlQ2hlYXBGbGlnaHRDb3N0OiBmdW5jdGlvbiBjYWxjdWxhdGVDaGVhcEZsaWdodENvc3QoZmx5RnJvbSwgZmx5VG8pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZSwgZmxpZ2h0RGF0YSwgcmVzcG9uc2VEYXRhLCBwcmljZVN0YXJ0aW5nRnJvbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9hcGkuc2t5cGlja2VyLmNvbS9mbGlnaHRzP2ZseV9mcm9tPSIuY29uY2F0KGZseUZyb20sICImZmx5X3RvPSIpLmNvbmNhdChmbHlUbywgIiZwYXJ0bmVyPXBpY2t5JnNvcnQ9cHJpY2UmbGltaXQ9MTAiKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZmxpZ2h0RGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBmbGlnaHREYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBwcmljZVN0YXJ0aW5nRnJvbSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHJlc3BvbnNlRGF0YS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHgucHJpY2U7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnNldENoZWFwRmxpZ2h0Q29zdChmbHlUbywgcHJpY2VTdGFydGluZ0Zyb20pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0Q2hlYXBGbGlnaHRDb3N0OiBmdW5jdGlvbiBzZXRDaGVhcEZsaWdodENvc3QoZmx5VG8sIHByaWNlKSB7CiAgICAgIHRoaXMuc2V0RmxpZ2h0Q29zdCh7CiAgICAgICAgY2l0eTogZmx5VG8sCiAgICAgICAgcHJpY2VGcm9tOiBwcmljZQogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["TravelCost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,SAAA,MAAA,QAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAPA;AASA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CATA;AAaA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,eAAA,EAAA,wBAAA,CAAA,CADA;AAGA,IAAA,gBAHA,4BAGA,CAHA,EAGA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,iBAAA;AACA,KANA;AAQA,IAAA,sBARA,kCAQA,gBARA,EAQA;AAAA;;AACA,UAAA,gBAAA,EAAA;AACA,YAAA,cAAA,GAAA,KAAA,CADA,CACA;;AACA,YAAA,eAAA,GAAA,MAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,IAAA,CAAA,YAAA;AAAA,SAAA,CAAA;AACA,YAAA,gBAAA,GAAA,eAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,WAAA;AAAA,SAAA,CAAA;AAEA,aAAA,sBAAA,CAAA,gBAAA;AAEA,QAAA,gBAAA,CAAA,OAAA,CAAA,UAAA,qBAAA,EAAA;AACA,UAAA,KAAA,CAAA,wBAAA,CAAA,cAAA,EAAA,qBAAA;AACA,SAFA;AAGA,OAVA,MAUA;AACA,aAAA,sBAAA,CAAA,gBAAA;AACA;AACA,KAtBA;AAwBA,IAAA,wBAxBA,oCAwBA,OAxBA,EAwBA,KAxBA,EAwBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,sDAAA,OAAA,qBAAA,KAAA,wCADA;;AAAA;AACA,gBAAA,QADA;AAAA;AAAA,uBAEA,QAAA,CAAA,IAAA,EAFA;;AAAA;AAEA,gBAAA,UAFA;AAGA,gBAAA,YAHA,GAGA,UAAA,CAAA,IAHA;AAIA,gBAAA,iBAJA,GAIA,IAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAAA,YAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,KAAA;AAAA,iBAAA,CAAA,CAJA;;AAKA,gBAAA,MAAA,CAAA,kBAAA,CAAA,KAAA,EAAA,iBAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KA9BA;AAgCA,IAAA,kBAhCA,8BAgCA,KAhCA,EAgCA,KAhCA,EAgCA;AACA,WAAA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAAA;AAIA;AArCA;AAbA,CAAA","sourcesContent":["<template>\n    <div class=\"travel-preference\">\n        <form @submit=\"submitPreference\">\n            <div class=\"travel\">\n                <img alt=\"logo\" src=\"../assets/flight.png\" />\n                <h1>Do you want a cheap flight cost?</h1>\n                <div class=\"description\">Your flight depart from home location ({{ this.user.homeLocation }})</div>\n                <ul>\n                    <li>\n                        <input type=\"radio\" id=\"economy\" value=\"true\" v-model=\"cheapTravelCost\" @change=\"updateTravelPreference(true)\" />\n                        <label for=\"economy\">Yes</label>\n                    </li>\n                    <li>\n                        <input type=\"radio\" id=\"business\" value=\"false\" v-model=\"cheapTravelCost\" @change=\"updateTravelPreference(false)\" />\n                        <label for=\"business\">No</label>\n                    </li>\n                </ul>\n            </div>\n            <button type=\"submit\">See Results</button>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport { CITIES } from '../constants.js';\n\nexport default {\n    name: 'TravelCost',\n\n    data() {\n        return {\n            cheapTravelCost: ''\n        }\n    },\n\n    computed: {\n        ...mapState(['user'])\n    },\n\n    methods: {\n        ...mapMutations ([\"setFlightCost\", \"setCheapFlightCostFlag\"]),\n\n        submitPreference(e) {\n            e.preventDefault();\n            this.$router.push('/recommendation');\n        },\n\n        updateTravelPreference(travelCostStatus) {\n            if (travelCostStatus) {\n                const homeOfficeCode = 'CDG'; // Home Location Airport Code\n                const otherOfficeData = CITIES.filter(item => item.city !== this.user.homeLocation);\n                const otherofficeCodes = otherOfficeData.map(o => o.airportCode);\n\n                this.setCheapFlightCostFlag(travelCostStatus);\n\n                otherofficeCodes.forEach((recommendedOfficeCode) => {\n                    this.calculateCheapFlightCost(homeOfficeCode, recommendedOfficeCode);\n                })\n            } else {\n                this.setCheapFlightCostFlag(travelCostStatus);\n            }\n        },\n\n        async calculateCheapFlightCost(flyFrom, flyTo) {\n            const response = await fetch(`https://api.skypicker.com/flights?fly_from=${flyFrom}&fly_to=${flyTo}&partner=picky&sort=price&limit=10`)\n            const flightData = await response.json();\n            const responseData = flightData.data;\n            const priceStartingFrom = Math.min.apply(null, responseData.map( x => x.price));\n            this.setCheapFlightCost(flyTo, priceStartingFrom);\n        },\n\n        setCheapFlightCost(flyTo, price) {\n            this.setFlightCost({\n                city: flyTo,\n                priceFrom: price\n            });\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .travel-preference {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n\n        img {\n            width: 150px;\n            margin: 0 auto;\n        }\n\n        h1 {\n            margin: 20px 0;\n        }\n\n        .description {\n            padding: 5px 0;\n        }\n\n        ul {\n            li {\n                input[type=\"radio\"][id=\"economy\"],\n                input[type=\"radio\"][id=\"business\"] {\n                    display: none;\n                }\n\n                label {\n                    font-size: 20px;\n                    font-weight: 700;\n                    border: 1px solid #34495E;\n                    border-radius: 4px;\n                    padding: 15px 50px;\n                    margin: 10px 30px;\n                }\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/components"}]}