{"remainingRequest":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/babel-loader/lib/index.js!/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/TravelCost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/src/components/TravelCost.vue","mtime":1600313895786},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nacvelli/Documents/GitHub/officefinder-github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL25hY3ZlbGxpL0RvY3VtZW50cy9HaXRIdWIvb2ZmaWNlZmluZGVyLWdpdGh1Yi5pby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbmFjdmVsbGkvRG9jdW1lbnRzL0dpdEh1Yi9vZmZpY2VmaW5kZXItZ2l0aHViLmlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hY3ZlbGxpL0RvY3VtZW50cy9HaXRIdWIvb2ZmaWNlZmluZGVyLWdpdGh1Yi5pby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQ0lUSUVTIH0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUcmF2ZWxDb3N0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hlYXBUcmF2ZWxDb3N0OiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3VzZXInXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsnc2V0RmxpZ2h0Q29zdCcsICdzZXRDaGVhcEZsaWdodENvc3RGbGFnJ10pKSwge30sIHsKICAgIHN1Ym1pdFByZWZlcmVuY2U6IGZ1bmN0aW9uIHN1Ym1pdFByZWZlcmVuY2UoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcmVjb21tZW5kYXRpb24nKTsKICAgIH0sCiAgICB1cGRhdGVUcmF2ZWxQcmVmZXJlbmNlOiBmdW5jdGlvbiB1cGRhdGVUcmF2ZWxQcmVmZXJlbmNlKHRyYXZlbENvc3RTdGF0dXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0cmF2ZWxDb3N0U3RhdHVzKSB7CiAgICAgICAgdmFyIGhvbWVPZmZpY2VDb2RlID0gJ0NERyc7IC8vIEhvbWUgTG9jYXRpb24gQWlycG9ydCBDb2RlCgogICAgICAgIHZhciBvdGhlck9mZmljZURhdGEgPSBDSVRJRVMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaXR5ICE9PSBfdGhpcy51c2VyLmhvbWVMb2NhdGlvbjsKICAgICAgICB9KTsKICAgICAgICB2YXIgb3RoZXJvZmZpY2VDb2RlcyA9IG90aGVyT2ZmaWNlRGF0YS5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIHJldHVybiBvLmFpcnBvcnRDb2RlOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuc2V0Q2hlYXBGbGlnaHRDb3N0RmxhZyh0cmF2ZWxDb3N0U3RhdHVzKTsKICAgICAgICBvdGhlcm9mZmljZUNvZGVzLmZvckVhY2goZnVuY3Rpb24gKHJlY29tbWVuZGVkT2ZmaWNlQ29kZSkgewogICAgICAgICAgX3RoaXMuY2FsY3VsYXRlQ2hlYXBGbGlnaHRDb3N0KGhvbWVPZmZpY2VDb2RlLCByZWNvbW1lbmRlZE9mZmljZUNvZGUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2V0Q2hlYXBGbGlnaHRDb3N0RmxhZyh0cmF2ZWxDb3N0U3RhdHVzKTsKICAgICAgfQogICAgfSwKICAgIGNhbGN1bGF0ZUNoZWFwRmxpZ2h0Q29zdDogZnVuY3Rpb24gY2FsY3VsYXRlQ2hlYXBGbGlnaHRDb3N0KGZseUZyb20sIGZseVRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGZsaWdodERhdGEsIHJlc3BvbnNlRGF0YSwgcHJpY2VMaXN0LCBwcmljZVN0YXJ0aW5nRnJvbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9hcGkuc2t5cGlja2VyLmNvbS9mbGlnaHRzP2ZseV9mcm9tPSIuY29uY2F0KGZseUZyb20sICImZmx5X3RvPSIpLmNvbmNhdChmbHlUbywgIiZwYXJ0bmVyPXBpY2t5JnNvcnQ9cHJpY2UmbGltaXQ9MTAiKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZmxpZ2h0RGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBmbGlnaHREYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBwcmljZUxpc3QgPSByZXNwb25zZURhdGEubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB4LnByaWNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBwcmljZVN0YXJ0aW5nRnJvbSA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShwcmljZUxpc3QpKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuc2V0Q2hlYXBGbGlnaHRDb3N0KGZseVRvLCBwcmljZVN0YXJ0aW5nRnJvbSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0Q2hlYXBGbGlnaHRDb3N0OiBmdW5jdGlvbiBzZXRDaGVhcEZsaWdodENvc3QoZmx5VG8sIHByaWNlKSB7CiAgICAgIHRoaXMuc2V0RmxpZ2h0Q29zdCh7CiAgICAgICAgY2l0eTogZmx5VG8sCiAgICAgICAgcHJpY2VGcm9tOiBwcmljZQogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["TravelCost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,SAAA,MAAA,QAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAPA;AASA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA,CATA;AAaA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,eAAA,EAAA,wBAAA,CAAA,CADA;AAGA,IAAA,gBAHA,4BAGA,CAHA,EAGA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,iBAAA;AACA,KANA;AAQA,IAAA,sBARA,kCAQA,gBARA,EAQA;AAAA;;AACA,UAAA,gBAAA,EAAA;AACA,YAAA,cAAA,GAAA,KAAA,CADA,CACA;;AACA,YAAA,eAAA,GAAA,MAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,IAAA,KAAA,KAAA,CAAA,IAAA,CAAA,YAAA;AAAA,SAAA,CAAA;AACA,YAAA,gBAAA,GAAA,eAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,WAAA;AAAA,SAAA,CAAA;AAEA,aAAA,sBAAA,CAAA,gBAAA;AAEA,QAAA,gBAAA,CAAA,OAAA,CAAA,UAAA,qBAAA,EAAA;AACA,UAAA,KAAA,CAAA,wBAAA,CAAA,cAAA,EAAA,qBAAA;AACA,SAFA;AAGA,OAVA,MAUA;AACA,aAAA,sBAAA,CAAA,gBAAA;AACA;AACA,KAtBA;AAwBA,IAAA,wBAxBA,oCAwBA,OAxBA,EAwBA,KAxBA,EAwBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,sDAAA,OAAA,qBAAA,KAAA,wCADA;;AAAA;AACA,gBAAA,QADA;AAAA;AAAA,uBAEA,QAAA,CAAA,IAAA,EAFA;;AAAA;AAEA,gBAAA,UAFA;AAGA,gBAAA,YAHA,GAGA,UAAA,CAAA,IAHA;AAIA,gBAAA,SAJA,GAIA,YAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,KAAA;AAAA,iBAAA,CAJA;AAKA,gBAAA,iBALA,GAKA,IAAA,CAAA,GAAA,OAAA,IAAA,qBAAA,SAAA,EALA;;AAOA,gBAAA,MAAA,CAAA,kBAAA,CAAA,KAAA,EAAA,iBAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAhCA;AAkCA,IAAA,kBAlCA,8BAkCA,KAlCA,EAkCA,KAlCA,EAkCA;AACA,WAAA,aAAA,CAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAAA;AAIA;AAvCA;AAbA,CAAA","sourcesContent":["<template>\n    <div class=\"travel-preference\">\n        <form @submit=\"submitPreference\">\n            <div class=\"travel\">\n                <img alt=\"logo\" src=\"../assets/flight.png\" />\n                <h1>Do you want a cheap flight cost?</h1>\n                <div class=\"description\">Your flight depart from home location ({{ this.user.homeLocation }})</div>\n                <ul>\n                    <li>\n                        <input type=\"radio\" id=\"economy\" value=\"true\" v-model=\"cheapTravelCost\" @change=\"updateTravelPreference(true)\" />\n                        <label for=\"economy\">Yes</label>\n                    </li>\n                    <li>\n                        <input type=\"radio\" id=\"business\" value=\"false\" v-model=\"cheapTravelCost\" @change=\"updateTravelPreference(false)\" />\n                        <label for=\"business\">No</label>\n                    </li>\n                </ul>\n            </div>\n            <button type=\"submit\">See Results</button>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport { CITIES } from '../constants.js';\n\nexport default {\n    name: 'TravelCost',\n\n    data() {\n        return {\n            cheapTravelCost: ''\n        }\n    },\n\n    computed: {\n        ...mapState(['user'])\n    },\n\n    methods: {\n        ...mapMutations (['setFlightCost', 'setCheapFlightCostFlag']),\n\n        submitPreference(e) {\n            e.preventDefault();\n            this.$router.push('/recommendation');\n        },\n\n        updateTravelPreference(travelCostStatus) {\n            if (travelCostStatus) {\n                const homeOfficeCode = 'CDG'; // Home Location Airport Code\n                const otherOfficeData = CITIES.filter(item => item.city !== this.user.homeLocation);\n                const otherofficeCodes = otherOfficeData.map(o => o.airportCode);\n\n                this.setCheapFlightCostFlag(travelCostStatus);\n\n                otherofficeCodes.forEach((recommendedOfficeCode) => {\n                    this.calculateCheapFlightCost(homeOfficeCode, recommendedOfficeCode);\n                })\n            } else {\n                this.setCheapFlightCostFlag(travelCostStatus);\n            }\n        },\n\n        async calculateCheapFlightCost(flyFrom, flyTo) {\n            const response = await fetch(`https://api.skypicker.com/flights?fly_from=${flyFrom}&fly_to=${flyTo}&partner=picky&sort=price&limit=10`)\n            const flightData = await response.json();\n            const responseData = flightData.data;\n            const priceList = responseData.map(x => x.price);\n            const priceStartingFrom = Math.min(...priceList)\n\n            this.setCheapFlightCost(flyTo, priceStartingFrom);\n        },\n\n        setCheapFlightCost(flyTo, price) {\n            this.setFlightCost({\n                city: flyTo,\n                priceFrom: price\n            });\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .travel-preference {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n\n        img {\n            width: 150px;\n            margin: 0 auto;\n        }\n\n        h1 {\n            margin: 20px 0;\n        }\n\n        .description {\n            padding: 5px 0;\n        }\n\n        ul {\n            li {\n                input[type=\"radio\"][id=\"economy\"],\n                input[type=\"radio\"][id=\"business\"] {\n                    display: none;\n                }\n\n                label {\n                    font-size: 20px;\n                    font-weight: 700;\n                    border: 1px solid #34495E;\n                    border-radius: 4px;\n                    padding: 15px 50px;\n                    margin: 10px 30px;\n                }\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/components"}]}